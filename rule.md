下記のようなゲームシステムをMinecraftBEで作成したいです。
技術要件は@minecraft/serverと@minecraft/server-ui
その設計を行ってください。

- ScriptAPIを用いたゲーム内ゲーム
- 特定のアイテムを使うとゲームが開始される
- マーダーミステリーのルールに則りゲームが進行する
- 「準備」「生活（事件発生）」「事件調査」「会議」「再調査、密談」「推理」「投票」のフェーズが一定時間ごとに切り替わる
- プレイヤーは「ロール」と「ジョブ」を与えられる
- ロールはマダミスにおける役割で、一般的には「犯人」「共犯者」「一般人」である
- ジョブはゲーム内における職業で、今回はファンタジーの西洋の城下町を基準に「王」「近衛隊長」「行商人」「ギルドの受付」などである
- 準備フェーズでは各プレイヤーは自分に与えられたロールとジョブの確認やマップ散策を行える
- プレイヤーはジョブとロールに基づいた各スキル一つずつと、ランダムに一つの合計三つの能力を得ることができる、能力は例えば「錬金術師はその錬金術で特定の場所に一回だけワープができる」「王は一度だけ好きなプレイヤーを城に呼び出すことができる」「共犯者は犯人の名前か、犯行時間のどちらかを知ることができる」など
- 犯人は半径4マス以内にいる他プレイヤーをキルする能力を固定で持つ
- プレイヤーは生活フェーズではジョブごとに決められたタスクをある程度こなしつつ日常生活を行う
- 生活フェーズはマイクラ内で3日あり、原則夜間は就寝するが行動してもよい、ただし徹夜するとデバフがつく
- 犯人は生活フェーズのどのタイミングで事件を起こしてもよい
- 生活フェーズはプレイヤーの誰かが事件を報告するアイテムを利用するか、三日が経過するまで継続する
- 生活フェーズ中のプレイヤーの行動は「証拠・痕跡」としてゲーム内に記録される、記録にはscripteventなどを利用する
- 事件発覚時に各プレイヤーには自分の「証拠・痕跡」が事件時間を中心に一部抽出され渡される（server-uiを使う）
- 「証拠・痕跡」はマップ上にもいくつかアイテムとして残り、それを「調査フェーズ」では探索する
- 犯人サイドではないプレイヤーは調査フェーズで探索や能力行使によって犯人の手がかりを探す
- 各プレイヤーの目的はロールとジョブに基づいた一つずつと、ランダムに一つの三つ与えられる。「犯人は投票で一番にならない」「王は浮気を誰かに指摘されない」「10万円稼ぐ」など
- 会議フェーズではチャットなどで議論を行う
- 「再調査・密談フェーズ」では事件調査フェーズと同じことを行う、が、追加で密談エリアが開放され希望者は合意の上で密談や取引が可能になる
- 「推理フェーズ」は自分の推理を各プレイヤーが披露する
- 「投票フェーズ」では犯人だと思うプレイヤーを投票する、また、プレイヤーのもつ目的によってはその内容も処理される、例えば「王の浮気の証拠を提示する」など
- 最終的に投票結果を発表し、処刑を行った後、目的の達成度を計算し最も得点の高いプレイヤーが勝利となる